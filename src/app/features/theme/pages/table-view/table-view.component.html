<div class="mt-3">
  <div class="mx-3">
    <app-chip-input
      [(chipList)]="searchValue"
      [label]="'g.search' | translate"></app-chip-input>
  </div>
  <mat-paginator
    class="mat-paginator"
    [pageSizeOptions]="[100, 300, 500]"
    [showFirstLastButtons]="true"></mat-paginator>
  <table mat-table [dataSource]="list" multiTemplateDataRows matSort>
    @for (label of themeLabelList; track $index; let index = $index) {
      <ng-container [matColumnDef]="label.byKey">
        <th
          mat-header-cell
          *matHeaderCellDef
          [mat-sort-header]="label.byKey"
          [disabled]="!label.isSort">
          {{ label.label }}
        </th>
        <td
          mat-cell
          *matCellDef="let element"
          [ngStyle]="{
            width: getWidth(label, 'width'),
            'max-width': getWidth(label, 'maxWidth'),
            'min-width': getWidth(label, 'minWidth'),
          }">
          <app-list-item-value
            [themeLabel]="label"
            [data]="element"
            [isHover]="true"
            [seqKey]="seqKey"></app-list-item-value>
          <!-- @switch (label.type) {
            @case ('fileSize') {
              {{ element[label.byKey] | fileSize }}
            }
            @case ('date') {
              {{
                element[label.byKey]
                  | date: (label.dateFormat ? label.dateFormat : 'yyyy-MM-dd')
              }}
            }
            @case ('stringArray') {
              <div class="d-flex">
                @for (
                  text of element[label.byKey];
                  track $index;
                  let isLast = $last
                ) {
                  <div class="row-text">{{ text }}</div>
                  @if (!isLast) {
                    <ng-container>{{ label.useSpace }}</ng-container>
                  }
                }
              </div>
            }
            @default {
              {{ element[label.byKey] }}
            }
          } -->
        </td>
        <td mat-footer-cell *matFooterCellDef>
          @switch (label.type) {
            @case ('fileSize') {
              {{ fileSizeTotal(label.byKey) | fileSize }}
            }
          }
        </td>
      </ng-container>
    }

    <ng-container matColumnDef="other">
      <th mat-header-cell *matHeaderCellDef>&nbsp;</th>
      <td mat-cell *matCellDef="let element; let i = dataIndex">
        <div class="row flex-nowrap"></div>
      </td>
      <td mat-footer-cell *matFooterCellDef></td>
    </ng-container>

    <tr
      class="mat-header-row"
      mat-header-row
      *matHeaderRowDef="displayedColumns"></tr>
    <tr
      mat-row
      *matRowDef="let row; columns: displayedColumns; let i = dataIndex"
      class="mat-row"
      [style.backgroundColor]="list.data[i][colorStr] || ''"></tr>
    <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
  </table>
</div>
<app-scrollTop></app-scrollTop>
