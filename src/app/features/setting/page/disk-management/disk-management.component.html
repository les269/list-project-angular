<div class="expanded">
  <div class="content">
    <div class="text-container">
      <div>{{ route.snapshot.data['subtitle'] | translate }}</div>
    </div>
    <div class="actions">
      <button
        class="btn btn-primary"
        (click)="openAddDiskDialog()"
        [disabled]="isLoading()">
        {{ 'g.add' | translate }}
      </button>
      <button
        class="btn btn-primary"
        (click)="refresh()"
        [disabled]="isLoading()">
        {{ 'g.refresh' | translate }}
      </button>
    </div>
    <div class="card mt-3 mb-4">
      <table
        mat-table
        [dataSource]="dataSource"
        multiTemplateDataRows
        matSort
        matSortActive="disk"
        matSortDirection="asc">
        <!-- Disk Column -->
        <ng-container matColumnDef="disk">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            {{ 'disk.disk' | translate }}
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.disk }}
          </td>
          <td mat-footer-cell *matFooterCellDef></td>
        </ng-container>

        <!-- Total Space Column -->
        <ng-container matColumnDef="totalSpace">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            {{ 'disk.totalSpace' | translate }}
          </th>
          <td mat-cell *matCellDef="let element" class="number-cell">
            {{ formatBytes(element.totalSpace ?? 0) }}
          </td>
          <td mat-footer-cell *matFooterCellDef>
            {{ formatBytes(totalStats().totalSpace) }}
          </td>
        </ng-container>

        <!-- Free Space Column -->
        <ng-container matColumnDef="freeSpace">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            {{ 'disk.freeSpace' | translate }}
          </th>
          <td mat-cell *matCellDef="let element" class="number-cell">
            {{ formatBytes(element.freeSpace ?? 0) }}
          </td>
          <td mat-footer-cell *matFooterCellDef>
            {{ formatBytes(totalStats().freeSpace) }}
          </td>
        </ng-container>

        <!-- Usable Space Column -->
        <ng-container matColumnDef="usedSpace">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            {{ 'disk.usedSpace' | translate }}
          </th>
          <td mat-cell *matCellDef="let element" class="number-cell">
            {{ formatBytes(getUsedSpace(element)) }}
          </td>
          <td mat-footer-cell *matFooterCellDef>
            {{ formatBytes(totalStats().usedSpace) }}
          </td>
        </ng-container>

        <!-- Update Date Column -->
        <ng-container matColumnDef="updateDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            {{ 'disk.updateDate' | translate }}
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.updateDate | date: 'yyyy-MM-dd HH:mm' }}
          </td>
          <td mat-footer-cell *matFooterCellDef></td>
        </ng-container>

        <!-- Actions Column -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let element">
            <button
              mat-icon-button
              (click)="deleteDisk(element.disk)"
              [matTooltip]="'g.delete' | translate">
              <mat-icon>delete</mat-icon>
            </button>
          </td>
          <td mat-footer-cell *matFooterCellDef></td>
        </ng-container>

        <tr
          class="mat-header-row"
          mat-header-row
          *matHeaderRowDef="displayedColumns"></tr>
        <tr
          class="mat-row"
          mat-row
          *matRowDef="let row; columns: displayedColumns"></tr>
        <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
      </table>
    </div>
  </div>
</div>
